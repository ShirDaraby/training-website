<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="header" model="ir.ui.view">
        <field name="name">bootstrap Header</field>
        <field name="type">qweb</field>
        <field name="key">website_bootstrap.header</field>
        <field name="inherit_id" ref="website.layout"/>
        <field name="mode">extension</field>
        <field name="arch" type="xml">
            <xpath expr="//header//nav" position="replace">
                <t t-call="website.navbar">
                    <t t-set="_navbar_classes" t-valuef="d-none d-lg-block shadow-sm"/>

                    <div id="o_main_nav" class="o_main_nav container flex-wrap bootstrap_header">
                        <!-- Static Content -->
                        <!-- Components -->
                        <t t-call="website.placeholder_header_brand">
                            <t t-set="_link_class" t-valuef="me-4"/>
                        </t>
                        <!-- Sign in -->
                        <t t-call="portal.placeholder_user_sign_in">
                            <t t-set="_item_class" t-valuef="nav-item-test"/>
                            <t t-set="_link_class" t-valuef="item-link-test"/>
                            <t t-set="_user_name" t-value="true"/>
                            <t t-set="link_name">John Woo</t>
                            <!-- <t t-set="_link_class" t-valuef="btn btn-outline-secondary d-flex align-items-center h-100 border-0"/> -->
                        </t>
                        <ul class="o_header_hamburger_right_col navbar-nav flex-row gap-2 align-items-center ms-auto">
                            <t>
                                <div groups="base.group_public" class="nav-item">
                                    <a t-attf-href="/web/login" class="nav-link">Sign in<span t-if="request.session.profile_session" class="text-danger fa fa-circle"/>
                                    </a>
                                </div>
                            </t>
                            <t t-foreach="website.menu_id.child_id" t-as="submenu">
                                <t t-call="website.submenu">
                                    <t t-set="item_class" t-valuef="nav-item"/>
                                    <t t-set="link_class" t-valuef="item-link-test"/>
                                </t>
                            </t>
                        </ul>
                        <!-- Editable areas -->
                    </div>
                </t>
            </xpath>
        </field>
    </record>

    <!-- Theme Header - Option -->
    <template id="template_header_opt" inherit_id="website.template_header_hamburger" name="test Template Header Hamburger - Option">
        <xpath expr="//we-select[@data-variable='header-template']" position="inside">
            <we-button title="Custom hamburger bootstrap" data-customize-website-views="website_bootstrap.template_header_hamburger" data-customize-website-variable="'Custom hamburger bootstrap'" data-img="/website_bootstrap/static/src/img/template_header_opt.svg"/>
        </xpath>
    </template>

    <template id="template_header_hamburger_new_opt" inherit_id="website.template_header_hamburger" name="test Template Header Hamburger" active="true">
        <xpath expr="//we-select[@data-variable='header-template']" position="inside">
            <we-button title="Custom hamburger bootstrap" data-customize-website-views="website_bootstrap.template_header_hamburger" data-customize-website-variable="'Custom hamburger bootstrap'" data-img="/website_bootstrap/static/src/img/template_header_opt.svg"/>
            <t t-call="website.navbar">
                <t t-set="_navbar_classes" t-valuef="d-none d-lg-block shadow-sm"/>
                <t t-set="_navbar_expand_class" t-valuef="None"/>

                <div id="o_main_nav" class="o_main_nav container d-grid py-0 o_grid_header_3_cols">
                    <!-- Nav Toggler -->
                    <t t-call="website.navbar_toggler">
                        <t t-set="_toggler_class" t-valuef="btn me-auto p-2"/>
                    </t>
                    <!-- Brand -->
                    <t t-call="website.placeholder_header_brand">
                        <t t-set="_link_class" t-valuef="mw-100 mx-auto"/>
                    </t>
                    <ul class="o_header_hamburger_right_col navbar-nav flex-row gap-2 align-items-center ms-auto">
                        <!-- Sign In -->
                        <t t-call="portal.placeholder_user_sign_in">
                            <t t-set="_link_class" t-valuef="o_navlink_background_hover btn rounded-circle text-reset"/>
                        </t>
                        <!-- User Dropdown -->
                        <t t-call="portal.user_dropdown">
                            <t t-set="_icon" t-value="true"/>
                            <t t-set="_item_class" t-valuef="dropdown"/>
                            <t t-set="_icon_class" t-valuef="fa-stack"/>
                            <t t-set="_link_class" t-valuef="o_navlink_background_hover btn d-flex align-items-center rounded-circle p-1 pe-2 text-reset"/>
                            <t t-set="_dropdown_menu_class" t-valuef="dropdown-menu-end"/>
                        </t>
                    </ul>
                    <div class="offcanvas offcanvas-start o_navbar_mobile" id="top_menu_collapse">
                        <div class="offcanvas-header justify-content-end">
                            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"/>
                        </div>
                        <div class="offcanvas-body d-flex flex-column justify-content-between">
                            <ul class="navbar-nav">
                                <!-- Search bar -->
                                <t t-call="website.placeholder_header_search_box">
                                    <t t-set="_input_classes" t-valuef="rounded-start-pill ps-3 text-bg-light"/>
                                    <t t-set="_submit_classes" t-valuef="rounded-end-pill bg-o-color-3"/>
                                    <t t-set="limit" t-valuef="0"/>
                                </t>
                                <!-- Navbar -->
                                <li>
                                    <t t-call="website.navbar_nav">
                                        <t t-set="_nav_class" t-valuef="my-3"/>

                                        <!-- Menu -->
                                        <t t-foreach="website.menu_id.child_id" t-as="submenu">
                                            <t t-call="website.submenu">
                                                <t t-set="item_class" t-valuef="nav-item"/>
                                                <t t-set="link_class" t-valuef="nav-link"/>
                                                <t t-set="dropdown_toggler_classes" t-valuef="d-flex justify-content-between align-items-center"/>
                                                <t t-set="dropdown_menu_classes" t-valuef="position-relative rounded-0 o_dropdown_without_offset"/>
                                            </t>
                                        </t>
                                    </t>
                                </li>
                                <!-- Text element -->
                                <t t-call="website.placeholder_header_text_element">
                                    <t t-set="_txt_elt_content" t-valuef="phone_mail"/>
                                    <t t-set="_div_class" t-valuef="mt-2 border-top pt-2 o_border_contrast"/>
                                </t>
                                <!-- Social -->
                                <t t-call="website.placeholder_header_social_links">
                                    <t t-set="_div_class" t-valuef="mt-2 border-top pt-2 o_border_contrast"/>
                                </t>
                            </ul>
                            <ul class="navbar-nav gap-2 mt-3 w-100">
                                <!-- Language Selector -->
                                <t t-call="website.placeholder_header_language_selector">
                                    <t t-set="_btn_class" t-valuef="btn-outline-secondary d-flex align-items-center w-100"/>
                                    <t t-set="_txt_class" t-valuef="me-auto small"/>
                                    <t t-set="_flag_class" t-valuef="me-2"/>
                                    <t t-set="_div_classes" t-valuef="dropup"/>
                                    <t t-set="_dropdown_menu_class" t-valuef="w-100"/>
                                </t>
                                <!-- Call To Action -->
                                <t t-call="website.header_call_to_action_large"/>
                            </ul>
                        </div>
                    </div>
                </div>
            </t>
            <t t-call="website.template_header_mobile">
                <t t-set="_txt_elt_content" t-valuef="phone_mail"/>
            </t>
        </xpath>
    </template>

    <template id="template_header_hamburger_align_right" inherit_id="website.template_header_hamburger" active="False">
        <xpath expr="//t[@t-set='_toggler_class']" position="replace">
            <t t-set="_toggler_class" t-valuef="btn order-2 ms-auto p-2"/>
        </xpath>
        <xpath expr="//ul[hasclass('o_header_hamburger_right_col')]" position="attributes">
            <attribute name="class" add="order-0 me-auto" remove="ms-auto" separator=" "/>
        </xpath>
        <xpath expr="//t[@t-call='website.placeholder_header_brand']" position="inside">
            <t t-set="_link_class" t-valuef="order-1 mx-auto mw-100"/>
        </xpath>
        <xpath expr="//div[@id='top_menu_collapse']" position="attributes">
            <attribute name="class" add="offcanvas-end" remove="offcanvas-start" separator=" "/>
        </xpath>
        <xpath expr="//t[@t-call='portal.user_dropdown']//t[@t-set='_dropdown_menu_class']" position="replace"/>
    </template>

    <template id="template_header_hamburger_mobile_align_center" inherit_id="website.template_header_hamburger" active="False">
        <xpath expr="//t[@t-set='_nav_class']" position="replace">
            <t t-set="_nav_class" t-valuef="my-3 text-center"/>
        </xpath>
        <xpath expr="//t[@t-call='website.placeholder_header_text_element']" position="inside">
            <t t-set="_div_class" t-valuef="mt-2 border-top pt-2 text-center o_border_contrast"/>
        </xpath>
        <xpath expr="//t[@t-call='website.placeholder_header_social_links']" position="inside">
            <t t-set="_div_class" t-valuef="mt-2 border-top pt-2 text-center o_border_contrast"/>
        </xpath>
    </template>

    <template id="template_header_hamburger_mobile_align_right" inherit_id="website.template_header_hamburger" active="False">
        <xpath expr="//t[@t-set='_nav_class']" position="replace">
            <t t-set="_nav_class" t-valuef="my-3 text-end"/>
        </xpath>
        <xpath expr="//t[@t-call='website.placeholder_header_text_element']" position="inside">
            <t t-set="_div_class" t-valuef="mt-2 border-top pt-2 text-end o_border_contrast"/>
        </xpath>
        <xpath expr="//t[@t-call='website.placeholder_header_social_links']" position="inside">
            <t t-set="_div_class" t-valuef="mt-2 border-top pt-2 text-end o_border_contrast"/>
        </xpath>
    </template>
</odoo>